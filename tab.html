<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="http://code.jquery.com/jquery-1.4.2.min.js" type="text/javascript"></script>
<title>tab</title>
<style>
.kl-tab{}
.kl-tab-nav{ display:block; height:30px; float:left;line-height: 30px;width: 100px;text-align: center;border-right: solid 1px #ccc;}
.kl-tab .kl-tab-nav-block,.kl-tab .kl-tab-div-block{ display:block; width:100%; float:left;}

.kl-tab .kl-tab-div{ width:100%;}
</style>
</head>

<body>
<div class="kl-tab">
<ul class="kl-tab-nav-block">
	<li class="kl-tab-nav">1</li>
    <li class="kl-tab-nav">2</li>
    <li class="kl-tab-nav">3</li>
</ul>
    <div class="kl-tab-div-block">
        <div class="kl-tab-div">11111</div>
        <div class="kl-tab-div">22222</div>
        <div class="kl-tab-div">33333</div>
    </div>
</div>
<script>
$(function(){
$.klplugin={
	/////////////////////////////////////////////////////tab切换特效/////////////////////////////////////////////
	runtab:function(options){
					var defaults={
						'navhoverclsname':'navhovercls',//nav显示时候拥有的类
						'divshowclsname':'divshowcls',//div显示的时候拥有的类
						'model':'mouseover'//tab的切换模式，默认为mouseover
						};
					var opts = $.extend(defaults, options); 
					
					$(".kl-tab .kl-tab-div").hide();
					$(".kl-tab .kl-tab-div:first-child").show();
					$(".kl-tab .kl-tab-nav").bind(opts.model,function(){
								var obj=$(this);
								 //查找要显示的div索引
								 obj.parents(".kl-tab").find(".kl-tab-nav").each(function(i) {
									if($(this).html()==obj.html()){
										//设置hover类
										obj.parents(".kl-tab").find(".kl-tab-nav").removeClass(opts.navhoverclsname);
										obj.addClass(opts.navhoverclsname);
										//隐藏掉所有的tabdiv
										obj.parents(".kl-tab").find(".kl-tab-div").hide();
										obj.parents(".kl-tab").find(".kl-tab-div").removeClass(opts.divshowclsname);
										
										obj.parents(".kl-tab").find(".kl-tab-div").eq(i).addClass(opts.divshowclsname);
										obj.parents(".kl-tab").find(".kl-tab-div").eq(i).show();
										}			 
								 });
					});
		}
	};
$.klplugin.runtab({
		'navhoverclsname':'a',//nav显示时候拥有的类
		'divshowclsname':'b',//div显示的时候拥有的类
		'model':'click'
		});
	});
</script>
</body>
</html>
